{"ast":null,"code":"import _classCallCheck from \"/Users/A1HP71DP/Documents/personal/mmt-task/task/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/A1HP71DP/Documents/personal/mmt-task/task/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/A1HP71DP/Documents/personal/mmt-task/task/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/A1HP71DP/Documents/personal/mmt-task/task/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/A1HP71DP/Documents/personal/mmt-task/task/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/A1HP71DP/Documents/personal/mmt-task/task/src/components/common/external-links/external-links.smart.js\";\nimport React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport linkIcon from \"../../../assets/images/quick_link.svg\";\nimport { withStyles } from '@material-ui/core/styles';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport styles from './external-links.style';\n\nvar ExternalLinks =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ExternalLinks, _Component);\n\n  function ExternalLinks() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ExternalLinks);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ExternalLinks)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      anchorEl: null\n    };\n\n    _this.handleClick = function (event) {\n      var customerInfo = _this.props.customerInfo;\n\n      if (customerInfo && customerInfo.topLinks && customerInfo.topLinks.links && customerInfo.topLinks.links.length) {\n        _this.setState({\n          anchorEl: event.currentTarget\n        });\n      }\n    };\n\n    _this.handleClose = function () {\n      _this.setState({\n        anchorEl: null\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(ExternalLinks, [{\n    key: \"openLink\",\n    value: function openLink(link) {\n      var params = link['params'];\n      var actionUrl = link['url'];\n\n      if (params && actionUrl) {\n        var form = document.createElement(\"form\");\n        form.setAttribute(\"method\", \"post\");\n        form.setAttribute(\"action\", actionUrl);\n        form.setAttribute(\"target\", \"_blank\");\n\n        for (var key in params) {\n          if (params.hasOwnProperty(key)) {\n            var inputField = document.createElement(\"input\");\n            inputField.setAttribute(\"type\", \"hidden\");\n            inputField.setAttribute(\"name\", key);\n            inputField.setAttribute(\"value\", params[key]);\n            form.appendChild(inputField);\n          }\n        }\n\n        document.body.appendChild(form);\n        form.submit();\n      } else if (actionUrl) {\n        window.open(actionUrl, '_blank');\n      }\n\n      this.handleClose();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var anchorEl = this.state.anchorEl;\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          customerInfo = _this$props.customerInfo;\n      var topLinks = customerInfo && customerInfo.topLinks && customerInfo.topLinks.links && customerInfo.topLinks.links.length ? customerInfo.topLinks.links : [];\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: linkIcon,\n        className: classes.linkIcon,\n        alt: \"link\",\n        \"aria-owns\": anchorEl ? 'simple-menu' : undefined,\n        \"aria-haspopup\": \"true\",\n        onClick: this.handleClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }), React.createElement(Menu, {\n        id: \"simple-menu\",\n        anchorEl: anchorEl,\n        open: Boolean(anchorEl),\n        onClose: this.handleClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, topLinks.map(function (link, index) {\n        return React.createElement(MenuItem, {\n          key: index,\n          onClick: function onClick() {\n            return _this2.openLink(link);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }, link.name);\n      })));\n    }\n  }]);\n\n  return ExternalLinks;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    customerInfo: state.customerInfo.customerInfo\n  };\n};\n\nexport default connect(mapStateToProps, null)(withStyles(styles)(ExternalLinks));","map":{"version":3,"sources":["/Users/A1HP71DP/Documents/personal/mmt-task/task/src/components/common/external-links/external-links.smart.js"],"names":["React","Component","Fragment","connect","withStyles","Menu","MenuItem","styles","ExternalLinks","state","anchorEl","handleClick","event","customerInfo","props","topLinks","links","length","setState","currentTarget","handleClose","link","params","actionUrl","form","document","createElement","setAttribute","key","hasOwnProperty","inputField","appendChild","body","submit","window","open","classes","linkIcon","undefined","Boolean","map","index","openLink","name","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport linkIcon from '../../../assets/images/quick_link.svg';\nimport { withStyles } from '@material-ui/core/styles';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport styles from './external-links.style';\n\nclass ExternalLinks extends Component {\n    state = {\n        anchorEl: null,\n    };\n\n    openLink(link) {\n        let params = link['params'];\n        let actionUrl = link['url'];\n        if(params && actionUrl) {\n            let form = document.createElement(\"form\");\n            form.setAttribute(\"method\", \"post\");\n            form.setAttribute(\"action\", actionUrl);\n            form.setAttribute(\"target\", \"_blank\");\n\n            for(let key in params) {\n            if(params.hasOwnProperty(key)) {\n                let inputField = document.createElement(\"input\");\n                inputField.setAttribute(\"type\", \"hidden\");\n                inputField.setAttribute(\"name\", key);\n                inputField.setAttribute(\"value\", params[key]);\n                form.appendChild(inputField);\n            }\n            }\n            document.body.appendChild(form);         \n            form.submit();\n        }\n        else if(actionUrl) {\n            window.open(actionUrl, '_blank');\n        }\n        this.handleClose();\n    }\n\n    handleClick = event => {\n      const { customerInfo } = this.props;\n      if(customerInfo && customerInfo.topLinks && customerInfo.topLinks.links && customerInfo.topLinks.links.length) {\n        this.setState({ anchorEl: event.currentTarget });\n      }\n    };\n    \n    handleClose = () => {\n        this.setState({ anchorEl: null });\n    };\n\n  render() {\n    const { anchorEl } = this.state;\n    const { classes, customerInfo } = this.props;\n    const topLinks = customerInfo && customerInfo.topLinks && customerInfo.topLinks.links && customerInfo.topLinks.links.length ? customerInfo.topLinks.links : [];\n    return (\n      <Fragment>\n        <img src={linkIcon} className={classes.linkIcon} alt=\"link\" \n                aria-owns={anchorEl ? 'simple-menu' : undefined}\n                aria-haspopup=\"true\"\n                onClick={this.handleClick}\n                />\n\n                <Menu\n                id=\"simple-menu\"\n                anchorEl={anchorEl}\n                open={Boolean(anchorEl)}\n                onClose={this.handleClose}\n                >\n                    {topLinks.map((link, index) => {\n                        return(<MenuItem key={index} onClick={() => this.openLink(link)}>{link.name}</MenuItem>)\n                    })}\n                </Menu>\n      </Fragment>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    customerInfo: state.customerInfo.customerInfo\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  null\n)(withStyles(styles)(ExternalLinks));"]},"metadata":{},"sourceType":"module"}