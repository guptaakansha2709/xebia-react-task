{"ast":null,"code":"import _classCallCheck from \"/Users/A1HP71DP/Documents/personal/tasks/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/A1HP71DP/Documents/personal/tasks/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/A1HP71DP/Documents/personal/tasks/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/A1HP71DP/Documents/personal/tasks/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/A1HP71DP/Documents/personal/tasks/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/A1HP71DP/Documents/personal/tasks/src/components/route.component.js\";\nimport React, { Component } from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport App from './App';\nimport LoginPage from './login/login-page.smart';\nimport { connect } from \"react-redux\";\nimport { withRouter } from 'react-router';\nimport UtilService from '../services/util.service';\n\nvar RouteComponent =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(RouteComponent, _Component);\n\n  function RouteComponent(props) {\n    var _this;\n\n    _classCallCheck(this, RouteComponent);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(RouteComponent).call(this, props));\n\n    _this.getPath = function () {\n      var _this$props = _this.props,\n          userAuthorized = _this$props.userAuthorized,\n          location = _this$props.location;\n      var path = location.pathname;\n\n      if (location.pathname === \"/login\") {\n        return \"/login\";\n      }\n\n      return path;\n    };\n\n    _this.props.history.listen(function (location, action) {\n      if (location.pathname === '/login') {// this.props.handleLogout()\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(RouteComponent, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var location = this.props.location;\n\n      if (location.pathname !== \"/login\" && location.pathname !== \"/\") {// checkAuthToken()\n      }\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {// if (UtilService.isPlatformWindows()) {\n      //     var link = document.createElement('link');\n      //     link.id = 'id2';\n      //     link.rel = 'stylesheet';\n      //     link.href = `${process.env.PUBLIC_URL}/assets/css/windows.css`\n      //     document.head.appendChild(link);\n      // }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var location = this.props.location;\n      var pathNew = this.getPath();\n      return React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, pathNew !== location.pathname && React.createElement(Redirect, {\n        to: pathNew,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/login\",\n        component: LoginPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/home\",\n        component: App,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }), location.pathname !== '/login' && location.pathname !== '/home' && React.createElement(Redirect, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return RouteComponent;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    userAuthorized: state.userAuthorized\n  };\n};\n\nvar mapDispatchToProps = {};\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(RouteComponent));","map":{"version":3,"sources":["/Users/A1HP71DP/Documents/personal/tasks/src/components/route.component.js"],"names":["React","Component","Switch","Route","Redirect","App","LoginPage","connect","withRouter","UtilService","RouteComponent","props","getPath","userAuthorized","location","path","pathname","history","listen","action","pathNew","mapStateToProps","state","mapDispatchToProps"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,MAAT,EAAiBC,KAAjB,EAAwBC,QAAxB,QAAwC,kBAAxC;AACA,OAAOC,GAAP,MAAgB,OAAhB;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,OAAOC,WAAP,MAAwB,0BAAxB;;IAEMC,c;;;;;AAEF,0BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,wFAAMA,KAAN;;AADe,UA6BnBC,OA7BmB,GA6BT,YAAM;AAAA,wBACuB,MAAKD,KAD5B;AAAA,UACNE,cADM,eACNA,cADM;AAAA,UACUC,QADV,eACUA,QADV;AAEZ,UAAIC,IAAI,GAAGD,QAAQ,CAACE,QAApB;;AAEA,UAAIF,QAAQ,CAACE,QAAT,KAAsB,QAA1B,EAAoC;AAChC,eAAO,QAAP;AACH;;AACD,aAAOD,IAAP;AACH,KArCkB;;AAEf,UAAKJ,KAAL,CAAWM,OAAX,CAAmBC,MAAnB,CAA0B,UAACJ,QAAD,EAAWK,MAAX,EAAsB;AAC5C,UAAIL,QAAQ,CAACE,QAAT,KAAsB,QAA1B,EAAoC,CAChC;AACH;AACJ,KAJD;;AAFe;AAOlB;;;;wCAEmB;AAAA,UACVF,QADU,GACG,KAAKH,KADR,CACVG,QADU;;AAEhB,UAAIA,QAAQ,CAACE,QAAT,KAAsB,QAAtB,IAAkCF,QAAQ,CAACE,QAAT,KAAsB,GAA5D,EAAiE,CAC7D;AACH;AAGJ;;;yCAEoB,CACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACH;;;6BAcQ;AAAA,UAECF,QAFD,GAEc,KAAKH,KAFnB,CAECG,QAFD;AAGL,UAAIM,OAAO,GAAG,KAAKR,OAAL,EAAd;AACA,aACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKQ,OAAO,KAAKN,QAAQ,CAACE,QAArB,IAAiC,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAEI,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADtC,EAEI,oBAAC,KAAD;AAAO,QAAA,KAAK,MAAZ;AAAa,QAAA,IAAI,EAAC,QAAlB;AAA2B,QAAA,SAAS,EAAEd,SAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,EAGI,oBAAC,KAAD;AAAO,QAAA,KAAK,MAAZ;AAAa,QAAA,IAAI,EAAC,OAAlB;AAA0B,QAAA,SAAS,EAAED,GAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHJ,EAIKS,QAAQ,CAACE,QAAT,KAAsB,QAAtB,IAAkCF,QAAQ,CAACE,QAAT,KAAsB,OAAxD,IAAmE,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJxE,CADJ;AAQH;;;;EAtDwBf,S;;AA0D7B,IAAMoB,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,KAAK,EAAI;AAC7B,SAAO;AACHT,IAAAA,cAAc,EAAES,KAAK,CAACT;AADnB,GAAP;AAGH,CAJD;;AAMA,IAAMU,kBAAkB,GAAG,EAA3B;AAIA,eAAef,UAAU,CAACD,OAAO,CAACc,eAAD,EAAkBE,kBAAlB,CAAP,CAA6Cb,cAA7C,CAAD,CAAzB","sourcesContent":["import React, { Component } from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport App from './App';\nimport LoginPage from './login/login-page.smart';\nimport { connect } from \"react-redux\";\nimport { withRouter } from 'react-router'\nimport UtilService from '../services/util.service';\n\nclass RouteComponent extends Component {\n\n    constructor(props) {\n        super(props);\n        this.props.history.listen((location, action) => {\n            if (location.pathname === '/login') {\n                // this.props.handleLogout()\n            }\n        });\n    }\n\n    componentDidMount() {\n        let { location } = this.props\n        if (location.pathname !== \"/login\" && location.pathname !== \"/\") {\n            // checkAuthToken()\n        }\n\n\n    }\n\n    componentWillMount() {\n        // if (UtilService.isPlatformWindows()) {\n        //     var link = document.createElement('link');\n        //     link.id = 'id2';\n        //     link.rel = 'stylesheet';\n        //     link.href = `${process.env.PUBLIC_URL}/assets/css/windows.css`\n        //     document.head.appendChild(link);\n        // }\n    }\n\n\n    getPath = () => {\n        let { userAuthorized, location } = this.props;\n        let path = location.pathname\n\n        if (location.pathname === \"/login\") {\n            return \"/login\"\n        }\n        return path\n    }\n\n\n    render() {\n\n        let { location } = this.props;\n        let pathNew = this.getPath()\n        return (\n            <Switch>\n                {pathNew !== location.pathname && <Redirect to={pathNew}></Redirect>}\n                <Route exact path='/login' component={LoginPage}></Route>\n                <Route exact path='/home' component={App}></Route>\n                {location.pathname !== '/login' && location.pathname !== '/home' && <Redirect to='/login' />}\n            </Switch>\n        )\n    }\n}\n\n\nconst mapStateToProps = state => {\n    return {\n        userAuthorized: state.userAuthorized\n    };\n};\n\nconst mapDispatchToProps = {\n\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(RouteComponent));\n\n"]},"metadata":{},"sourceType":"module"}