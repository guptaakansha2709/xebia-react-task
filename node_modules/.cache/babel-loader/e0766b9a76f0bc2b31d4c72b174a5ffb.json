{"ast":null,"code":"import _classCallCheck from \"/Users/A1HP71DP/Documents/personal/mmt-task/task/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/A1HP71DP/Documents/personal/mmt-task/task/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport CustomHttpService from './custom-http.service';\nimport Config from '../config/config';\nimport CookieManagerService from './cookie.service';\nimport { AppConstant } from '../constants/app.constant';\nimport EncodeDecodeType from '../actiontype/encode-decode-type';\n\nvar UtilizationTabService =\n/*#__PURE__*/\nfunction () {\n  function UtilizationTabService() {\n    _classCallCheck(this, UtilizationTabService);\n  }\n\n  _createClass(UtilizationTabService, null, [{\n    key: \"fetchUtilizationDataApi\",\n    value: function fetchUtilizationDataApi(lsiNumber, timeRange) {\n      var config = {\n        headers: {\n          'Content-Type': \"application/x-www-form-urlencoded\"\n        }\n      };\n      var authDetails = CookieManagerService.getAuthDetails();\n      var transactionId = CookieManagerService.getItem(AppConstant.TRANSACTION_ID) || \"1234567890\";\n      var channel = authDetails.channel || \"\";\n\n      var _UtilizationTabServic = UtilizationTabService.getTimeRange(timeRange),\n          fromTime = _UtilizationTabServic.fromTime,\n          toTime = _UtilizationTabServic.toTime; // const lsiNumber = CookieManagerService.getItem(AppConstant.LSI_NUMBER)\n\n\n      var url = Config.contextPath + \"user/rest/v1.0/b2b/dataTrafficDetails?lsiNumber=\" + lsiNumber + \"&fromTime=\" + fromTime + \"&toTime=\" + toTime + \"&transactionId=\" + transactionId;\n      return CustomHttpService.get(url, config, EncodeDecodeType.DEFAULT);\n    }\n  }, {\n    key: \"getTimeRange\",\n    value: function getTimeRange(timeRange) {\n      var currDate = new Date();\n      var toTime = '';\n      var fromTime = '';\n\n      if (!timeRange || timeRange === AppConstant.UTILIZATION_TAB_TIME_RANGE_CURRENT) {\n        var monthsValue = currDate.getMonth() + 1;\n\n        if (monthsValue < 10) {\n          monthsValue = \"0\".concat(monthsValue);\n        }\n\n        var dateValue = currDate.getDate();\n\n        if (dateValue < 10) {\n          dateValue = \"0\".concat(dateValue);\n        }\n\n        var hoursValue = currDate.getHours();\n\n        if (hoursValue < 10) {\n          hoursValue = \"0\".concat(hoursValue);\n        }\n\n        var minutesValue = currDate.getMinutes();\n        if (minutesValue >= 0 && minutesValue <= 15) minutesValue = '00';else if (minutesValue > 15 && minutesValue < 30) minutesValue = '15';else if (minutesValue >= 30) minutesValue = '30';\n        toTime = \"\".concat(currDate.getFullYear(), \"-\").concat(monthsValue, \"-\").concat(dateValue, \" \").concat(hoursValue, \":\").concat(minutesValue, \":00\");\n        fromTime = \"\".concat(currDate.getFullYear(), \"-\").concat(monthsValue, \"-\").concat(dateValue, \" 00:00:00\");\n      } else if (timeRange === AppConstant.UTILIZATION_TAB_TIME_RANGE_7_DAYS) {\n        currDate.setDate(currDate.getDate() - 1);\n\n        var _monthsValue = currDate.getMonth() + 1;\n\n        if (_monthsValue < 10) {\n          _monthsValue = \"0\".concat(_monthsValue);\n        }\n\n        var _dateValue = currDate.getDate();\n\n        if (_dateValue < 10) {\n          _dateValue = \"0\".concat(_dateValue);\n        }\n\n        toTime = \"\".concat(currDate.getFullYear(), \"-\").concat(_monthsValue, \"-\").concat(_dateValue, \" 23:59:00\");\n        currDate.setDate(currDate.getDate() - 8);\n        _monthsValue = currDate.getMonth() + 1;\n\n        if (_monthsValue < 10) {\n          _monthsValue = \"0\".concat(_monthsValue);\n        }\n\n        _dateValue = currDate.getDate();\n\n        if (_dateValue < 10) {\n          _dateValue = \"0\".concat(_dateValue);\n        }\n\n        fromTime = \"\".concat(currDate.getFullYear(), \"-\").concat(_monthsValue, \"-\").concat(_dateValue, \" 00:00:00\");\n      } else {\n        currDate.setDate(currDate.getDate() - 1);\n\n        var _monthsValue2 = currDate.getMonth() + 1;\n\n        if (_monthsValue2 < 10) {\n          _monthsValue2 = \"0\".concat(_monthsValue2);\n        }\n\n        var _dateValue2 = currDate.getDate();\n\n        if (_dateValue2 < 10) {\n          _dateValue2 = \"0\".concat(_dateValue2);\n        }\n\n        toTime = \"\".concat(currDate.getFullYear(), \"-\").concat(_monthsValue2, \"-\").concat(_dateValue2, \" 23:59:00\");\n        currDate.setDate(currDate.getDate() - 31);\n        _monthsValue2 = currDate.getMonth() + 1;\n\n        if (_monthsValue2 < 10) {\n          _monthsValue2 = \"0\".concat(_monthsValue2);\n        }\n\n        _dateValue2 = currDate.getDate();\n\n        if (_dateValue2 < 10) {\n          _dateValue2 = \"0\".concat(_dateValue2);\n        }\n\n        fromTime = \"\".concat(currDate.getFullYear(), \"-\").concat(_monthsValue2, \"-\").concat(_dateValue2, \" 00:00:00\");\n      }\n\n      return {\n        fromTime: fromTime,\n        toTime: toTime\n      };\n    }\n  }]);\n\n  return UtilizationTabService;\n}();\n\nexport default UtilizationTabService;","map":{"version":3,"sources":["/Users/A1HP71DP/Documents/personal/mmt-task/task/src/services/utilization-tab.service.js"],"names":["CustomHttpService","Config","CookieManagerService","AppConstant","EncodeDecodeType","UtilizationTabService","lsiNumber","timeRange","config","headers","authDetails","getAuthDetails","transactionId","getItem","TRANSACTION_ID","channel","getTimeRange","fromTime","toTime","url","contextPath","get","DEFAULT","currDate","Date","UTILIZATION_TAB_TIME_RANGE_CURRENT","monthsValue","getMonth","dateValue","getDate","hoursValue","getHours","minutesValue","getMinutes","getFullYear","UTILIZATION_TAB_TIME_RANGE_7_DAYS","setDate"],"mappings":"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","sourcesContent":["import CustomHttpService from './custom-http.service';\nimport Config from '../config/config';\nimport CookieManagerService from './cookie.service';\nimport { AppConstant } from '../constants/app.constant';\n\nimport EncodeDecodeType from '../actiontype/encode-decode-type';\n\nclass UtilizationTabService {\n\n    static fetchUtilizationDataApi(lsiNumber, timeRange) {\n        const config = {\n            headers: {\n                'Content-Type': \"application/x-www-form-urlencoded\",\n            }\n        };\n        const authDetails = CookieManagerService.getAuthDetails();\n        const transactionId = CookieManagerService.getItem(AppConstant.TRANSACTION_ID) || \"1234567890\";\n        const channel = authDetails.channel || \"\";\n        \n        const {fromTime, toTime} = UtilizationTabService.getTimeRange(timeRange)\n        // const lsiNumber = CookieManagerService.getItem(AppConstant.LSI_NUMBER)\n\n        var url = Config.contextPath + \"user/rest/v1.0/b2b/dataTrafficDetails?lsiNumber=\" + lsiNumber + \"&fromTime=\" + fromTime + \"&toTime=\" + toTime + \"&transactionId=\" + transactionId;\n        return CustomHttpService.get(url, config, EncodeDecodeType.DEFAULT);\n    }\n\n    static getTimeRange (timeRange) {\n\n        let currDate = new Date()\n        let toTime = ''\n        let fromTime = ''\n        if(!timeRange || timeRange === AppConstant.UTILIZATION_TAB_TIME_RANGE_CURRENT ) {\n            \n            let monthsValue = currDate.getMonth() + 1\n            if(monthsValue < 10) {\n                monthsValue = `0${monthsValue}`\n            }\n\n            let dateValue = currDate.getDate()\n            if(dateValue < 10) {\n                dateValue = `0${dateValue}`\n            }\n\n            let hoursValue = currDate.getHours()\n            if(hoursValue < 10) {\n                hoursValue = `0${hoursValue}`\n            }\n\n            let minutesValue = currDate.getMinutes()\n            if(minutesValue >= 0 && minutesValue <= 15)\n                minutesValue = '00'\n            else if(minutesValue > 15 && minutesValue < 30)\n                minutesValue = '15'\n            else if(minutesValue >= 30)\n                minutesValue = '30'\n\n            toTime = `${currDate.getFullYear()}-${monthsValue}-${dateValue} ${hoursValue}:${minutesValue}:00`\n            fromTime = `${currDate.getFullYear()}-${monthsValue}-${dateValue} 00:00:00`\n\n        } else if (timeRange === AppConstant.UTILIZATION_TAB_TIME_RANGE_7_DAYS) {\n            currDate.setDate(currDate.getDate() - 1)\n            let monthsValue = currDate.getMonth() + 1\n            if(monthsValue < 10) {\n                monthsValue = `0${monthsValue}`\n            }\n            let dateValue = currDate.getDate()\n            if(dateValue < 10) {\n                dateValue = `0${dateValue}`\n            }\n            toTime = `${currDate.getFullYear()}-${monthsValue}-${dateValue} 23:59:00`\n            currDate.setDate(currDate.getDate() - 8)\n            monthsValue = currDate.getMonth() + 1\n            if(monthsValue < 10) {\n                monthsValue = `0${monthsValue}`\n            }\n            dateValue = currDate.getDate()\n            if(dateValue < 10) {\n                dateValue = `0${dateValue}`\n            }\n            fromTime = `${currDate.getFullYear()}-${monthsValue}-${dateValue} 00:00:00`\n            \n        } else {\n            currDate.setDate(currDate.getDate() - 1)\n            let monthsValue = currDate.getMonth() + 1\n            if(monthsValue < 10) {\n                monthsValue = `0${monthsValue}`\n            }\n            let dateValue = currDate.getDate()\n            if(dateValue < 10) {\n                dateValue = `0${dateValue}`\n            }\n            toTime = `${currDate.getFullYear()}-${monthsValue}-${dateValue} 23:59:00`\n            currDate.setDate(currDate.getDate() - 31)\n            monthsValue = currDate.getMonth() + 1\n            if(monthsValue < 10) {\n                monthsValue = `0${monthsValue}`\n            }\n            dateValue = currDate.getDate()\n            if(dateValue < 10) {\n                dateValue = `0${dateValue}`\n            }\n            fromTime = `${currDate.getFullYear()}-${monthsValue}-${dateValue} 00:00:00`\n        }\n\n        return {fromTime, toTime}\n    }\n}\n\nexport default UtilizationTabService;\n"]},"metadata":{},"sourceType":"module"}