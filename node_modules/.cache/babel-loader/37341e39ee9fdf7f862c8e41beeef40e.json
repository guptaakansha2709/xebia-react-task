{"ast":null,"code":"import _classCallCheck from \"/Users/A1HP71DP/Documents/personal/mmt-task/task/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/A1HP71DP/Documents/personal/mmt-task/task/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/A1HP71DP/Documents/personal/mmt-task/task/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/A1HP71DP/Documents/personal/mmt-task/task/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/A1HP71DP/Documents/personal/mmt-task/task/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/A1HP71DP/Documents/personal/mmt-task/task/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/A1HP71DP/Documents/personal/mmt-task/task/src/components/home/bill-compare/bill-compare.smart.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport { fetchInvoiceRequest as _fetchInvoiceRequest, fetchBillsRequest as _fetchBillsRequest, openBillComparatorRequest as _openBillComparatorRequest, closeBillComparatorRequest as _closeBillComparatorRequest, onCurrentMonthChangeRequest as _onCurrentMonthChangeRequest, setPreviousBillDateRequest as _setPreviousBillDateRequest } from '../../../actions/bill-compare.action';\nimport { connect } from 'react-redux';\nimport Button from '@material-ui/core/Button';\nimport { openSnackbarRequest as _openSnackbarRequest } from '../../../actions/snackbar.action';\nimport { SnackbarMessages } from '../../../constants/snackbar-messages';\nimport BillComparatorDialog from '../../shared/dialogs/bill-comparator/bill-comparator-dialog.dumb';\nimport styles from './bill-compare.style';\nimport BillComparatorCalendar from '../../common/bill-comparator-calendar/bill-comparator-calendar.smart';\nimport { cardLinksHandler as _cardLinksHandler } from '../../../actions/card-links.action';\nimport { CardLinkConstant } from '../../../constants/card-link.constant';\n\nvar BillCompare =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(BillCompare, _Component);\n\n  function BillCompare() {\n    var _this;\n\n    _classCallCheck(this, BillCompare);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(BillCompare).call(this));\n\n    _this.handleCurrentBillCycle = function (event) {\n      _this.props.onCurrentMonthChangeRequest(event.target.value);\n    };\n\n    _this.handlePreviousBillCycle = function (event) {\n      _this.props.setPreviousBillDateRequest(event.target.value);\n\n      if (_this.props.openBillComparatorDialog) {\n        _this.onFetchBillsRequest(_this.props.currentBillCycle, event.target.value);\n      }\n    };\n\n    _this.onClickEditBtn = _this.onClickEditBtn.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onClickTagIcon = _this.onClickTagIcon.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(BillCompare, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.fetchInvoiceRequest();\n    }\n  }, {\n    key: \"compareBillForMonth\",\n    value: function compareBillForMonth() {\n      if (this.props.currentBillCycle || this.props.previousBillCycle) {\n        this.onFetchBillsRequest(this.props.currentBillCycle, this.props.previousBillCycle);\n      } else {\n        this.props.openSnackbarRequest(null, SnackbarMessages.INVALID_INPUTE_DATE);\n      }\n    }\n  }, {\n    key: \"onFetchBillsRequest\",\n    value: function onFetchBillsRequest(currentBillCycle, previousBillCycle) {\n      var reqData = {\n        currentBillCycle: currentBillCycle && currentBillCycle.displayName ? currentBillCycle.displayName : \"\",\n        previousBillCycle: previousBillCycle && previousBillCycle.displayName ? previousBillCycle.displayName : \"\"\n      };\n      this.props.fetchBillsRequest(reqData);\n    }\n  }, {\n    key: \"getBillComparatorDialog\",\n    value: function getBillComparatorDialog() {\n      if (this.props.billComparisonData && this.props.billComparisonData.length) {\n        return React.createElement(BillComparatorDialog, {\n          data: this.props,\n          handleCurrentBillCycle: this.handleCurrentBillCycle,\n          handlePreviousBillCycle: this.handlePreviousBillCycle,\n          editBtnHandler: this.onClickEditBtn,\n          tagBtnHandler: this.onClickTagIcon,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        });\n      }\n\n      return \"\";\n    }\n  }, {\n    key: \"onClickEditBtn\",\n    value: function onClickEditBtn() {\n      var _this$props = this.props,\n          cardLinks = _this$props.cardLinks,\n          closeBillComparatorRequest = _this$props.closeBillComparatorRequest;\n      this.props.cardLinksHandler(cardLinks, CardLinkConstant.SCENARIO_TYPE);\n      closeBillComparatorRequest();\n    }\n  }, {\n    key: \"onClickTagIcon\",\n    value: function onClickTagIcon() {\n      var _this$props2 = this.props,\n          cardLinks = _this$props2.cardLinks,\n          closeBillComparatorRequest = _this$props2.closeBillComparatorRequest;\n      this.props.cardLinksHandler(cardLinks, CardLinkConstant.CRM_CODE_TYPE, CardLinkConstant.BILL_COMPARATOR_CARD);\n      closeBillComparatorRequest();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props3 = this.props,\n          classes = _this$props3.classes,\n          currentBillCycle = _this$props3.currentBillCycle,\n          previousBillCycle = _this$props3.previousBillCycle,\n          billComparisonRecentDate = _this$props3.billComparisonRecentDate,\n          billComparisonPreviousDate = _this$props3.billComparisonPreviousDate,\n          billCycle = _this$props3.billCycle;\n      return React.createElement(\"div\", {\n        className: classes.root,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(BillComparatorCalendar, {\n        selectedMonth: currentBillCycle,\n        billCycleHandler: this.handleCurrentBillCycle,\n        name: \"currentBillCycle\",\n        billComparisonDate: billComparisonRecentDate,\n        title: \"Current Bill Cycle\",\n        classProp: \"pull-left\",\n        billCycle: billCycle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }), React.createElement(BillComparatorCalendar, {\n        selectedMonth: previousBillCycle,\n        billCycleHandler: this.handlePreviousBillCycle,\n        name: \"previousBillCycle\",\n        billComparisonDate: billComparisonPreviousDate,\n        title: \"Previous Bill Cycle\",\n        classProp: \"pull-right\",\n        billCycle: billCycle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: classes.btnContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(Button, {\n        className: \"btn-primary\",\n        onClick: this.compareBillForMonth.bind(this),\n        variant: \"contained\",\n        size: \"medium\",\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \"Compare\")), this.getBillComparatorDialog());\n    }\n  }]);\n\n  return BillCompare;\n}(Component);\n\nBillCompare.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    billComparisonRecentDate: state.billCompare.billComparisonRecentDate,\n    billComparisonPreviousDate: state.billCompare.billComparisonPreviousDate,\n    billComparisonDate: state.billCompare.billComparisonDate,\n    billComparisonData: state.billCompare.billComparisonData,\n    billComparisonTotal: state.billCompare.billComparisonTotal,\n    openBillComparatorDialog: state.billCompare.openBillComparatorDialog,\n    currentBillCycle: state.billCompare.currentBillCycle,\n    previousBillCycle: state.billCompare.previousBillCycle,\n    billCycle: state.billCompare.billCycle,\n    cardLinks: state.billCompare.cardLinks\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    fetchInvoiceRequest: function fetchInvoiceRequest() {\n      return dispatch(_fetchInvoiceRequest());\n    },\n    fetchBillsRequest: function fetchBillsRequest(data) {\n      return dispatch(_fetchBillsRequest(data));\n    },\n    openSnackbarRequest: function openSnackbarRequest(error, msg) {\n      return dispatch(_openSnackbarRequest(error, msg));\n    },\n    openBillComparatorRequest: function openBillComparatorRequest() {\n      return dispatch(_openBillComparatorRequest());\n    },\n    closeBillComparatorRequest: function closeBillComparatorRequest() {\n      return dispatch(_closeBillComparatorRequest());\n    },\n    onCurrentMonthChangeRequest: function onCurrentMonthChangeRequest(value) {\n      return dispatch(_onCurrentMonthChangeRequest(value));\n    },\n    setPreviousBillDateRequest: function setPreviousBillDateRequest(value) {\n      return dispatch(_setPreviousBillDateRequest(value));\n    },\n    cardLinksHandler: function cardLinksHandler(data, type, key) {\n      return dispatch(_cardLinksHandler(data, type, key));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(BillCompare));","map":{"version":3,"sources":["/Users/A1HP71DP/Documents/personal/mmt-task/task/src/components/home/bill-compare/bill-compare.smart.js"],"names":["React","Component","PropTypes","withStyles","fetchInvoiceRequest","fetchBillsRequest","openBillComparatorRequest","closeBillComparatorRequest","onCurrentMonthChangeRequest","setPreviousBillDateRequest","connect","Button","openSnackbarRequest","SnackbarMessages","BillComparatorDialog","styles","BillComparatorCalendar","cardLinksHandler","CardLinkConstant","BillCompare","handleCurrentBillCycle","event","props","target","value","handlePreviousBillCycle","openBillComparatorDialog","onFetchBillsRequest","currentBillCycle","onClickEditBtn","bind","onClickTagIcon","previousBillCycle","INVALID_INPUTE_DATE","reqData","displayName","billComparisonData","length","cardLinks","SCENARIO_TYPE","CRM_CODE_TYPE","BILL_COMPARATOR_CARD","classes","billComparisonRecentDate","billComparisonPreviousDate","billCycle","root","btnContainer","compareBillForMonth","getBillComparatorDialog","propTypes","object","isRequired","mapStateToProps","state","billCompare","billComparisonDate","billComparisonTotal","mapDispatchToProps","dispatch","data","error","msg","type","key"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  fetchInvoiceRequest,\n  fetchBillsRequest,\n  openBillComparatorRequest,\n  closeBillComparatorRequest,\n  onCurrentMonthChangeRequest,\n  setPreviousBillDateRequest\n} from '../../../actions/bill-compare.action';\nimport { connect } from 'react-redux';\nimport Button from '@material-ui/core/Button';\nimport { openSnackbarRequest } from '../../../actions/snackbar.action';\nimport { SnackbarMessages } from '../../../constants/snackbar-messages';\nimport BillComparatorDialog from '../../shared/dialogs/bill-comparator/bill-comparator-dialog.dumb';\nimport styles from './bill-compare.style';\nimport BillComparatorCalendar from '../../common/bill-comparator-calendar/bill-comparator-calendar.smart';\nimport { cardLinksHandler } from '../../../actions/card-links.action';\nimport { CardLinkConstant } from '../../../constants/card-link.constant';\n\nclass BillCompare extends Component {\n\n  constructor() {\n    super();\n    this.onClickEditBtn = this.onClickEditBtn.bind(this);\n    this.onClickTagIcon = this.onClickTagIcon.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.fetchInvoiceRequest();\n  }\n\n  handleCurrentBillCycle = event => {\n    this.props.onCurrentMonthChangeRequest(event.target.value);\n  };\n\n  handlePreviousBillCycle = event => {\n    this.props.setPreviousBillDateRequest(event.target.value);\n    if (this.props.openBillComparatorDialog) {\n      this.onFetchBillsRequest(this.props.currentBillCycle, event.target.value);\n    }\n  };\n\n  compareBillForMonth() {\n    if (this.props.currentBillCycle || this.props.previousBillCycle) {\n      this.onFetchBillsRequest(this.props.currentBillCycle, this.props.previousBillCycle);\n    } else {\n      this.props.openSnackbarRequest(null, SnackbarMessages.INVALID_INPUTE_DATE);\n    }\n  }\n\n  onFetchBillsRequest(currentBillCycle, previousBillCycle) {\n    const reqData = {\n      currentBillCycle: currentBillCycle && currentBillCycle.displayName ? currentBillCycle.displayName : \"\",\n      previousBillCycle: previousBillCycle && previousBillCycle.displayName ? previousBillCycle.displayName : \"\"\n    }\n    this.props.fetchBillsRequest(reqData);\n  }\n\n  getBillComparatorDialog() {\n    if (this.props.billComparisonData && this.props.billComparisonData.length) {\n      return (\n        <BillComparatorDialog data={this.props} handleCurrentBillCycle={this.handleCurrentBillCycle} handlePreviousBillCycle={this.handlePreviousBillCycle} editBtnHandler={this.onClickEditBtn} tagBtnHandler={this.onClickTagIcon} />\n      )\n    }\n    return \"\"\n  }\n\n  onClickEditBtn() {\n    const { cardLinks, closeBillComparatorRequest } = this.props;\n    this.props.cardLinksHandler(cardLinks, CardLinkConstant.SCENARIO_TYPE);\n    closeBillComparatorRequest();\n  }\n\n  onClickTagIcon() {\n    const { cardLinks, closeBillComparatorRequest } = this.props;\n    this.props.cardLinksHandler(cardLinks, CardLinkConstant.CRM_CODE_TYPE, CardLinkConstant.BILL_COMPARATOR_CARD);\n    closeBillComparatorRequest();\n  }\n\n  render() {\n    const { classes, currentBillCycle, previousBillCycle, billComparisonRecentDate, billComparisonPreviousDate, billCycle } = this.props;\n    return (\n      <div className={classes.root}>\n        <BillComparatorCalendar selectedMonth={currentBillCycle} billCycleHandler={this.handleCurrentBillCycle} name='currentBillCycle' billComparisonDate={billComparisonRecentDate} title=\"Current Bill Cycle\" classProp=\"pull-left\" billCycle={billCycle}></BillComparatorCalendar>\n        <BillComparatorCalendar selectedMonth={previousBillCycle} billCycleHandler={this.handlePreviousBillCycle} name='previousBillCycle' billComparisonDate={billComparisonPreviousDate} title=\"Previous Bill Cycle\" classProp=\"pull-right\" billCycle={billCycle}></BillComparatorCalendar>\n        <div className={classes.btnContainer}>\n          <Button className=\"btn-primary\" onClick={this.compareBillForMonth.bind(this)} variant=\"contained\" size=\"medium\" color=\"primary\">\n            Compare\n          </Button>\n        </div>\n\n        {this.getBillComparatorDialog()}\n\n      </div>\n    )\n  }\n}\n\nBillCompare.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = state => {\n  return {\n    billComparisonRecentDate: state.billCompare.billComparisonRecentDate,\n    billComparisonPreviousDate: state.billCompare.billComparisonPreviousDate,\n    billComparisonDate: state.billCompare.billComparisonDate,\n    billComparisonData: state.billCompare.billComparisonData,\n    billComparisonTotal: state.billCompare.billComparisonTotal,\n    openBillComparatorDialog: state.billCompare.openBillComparatorDialog,\n    currentBillCycle: state.billCompare.currentBillCycle,\n    previousBillCycle: state.billCompare.previousBillCycle,\n    billCycle: state.billCompare.billCycle,\n    cardLinks: state.billCompare.cardLinks\n  };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  fetchInvoiceRequest: () => dispatch(fetchInvoiceRequest()),\n  fetchBillsRequest: data => dispatch(fetchBillsRequest(data)),\n  openSnackbarRequest: (error, msg) => dispatch(openSnackbarRequest(error, msg)),\n  openBillComparatorRequest: () => dispatch(openBillComparatorRequest()),\n  closeBillComparatorRequest: () => dispatch(closeBillComparatorRequest()),\n  onCurrentMonthChangeRequest: value => dispatch(onCurrentMonthChangeRequest(value)),\n  setPreviousBillDateRequest: value => dispatch(setPreviousBillDateRequest(value)),\n  cardLinksHandler: (data, type, key) => dispatch(cardLinksHandler(data, type, key))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(BillCompare));"]},"metadata":{},"sourceType":"module"}